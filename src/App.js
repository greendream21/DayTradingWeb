import React, { useEffect, useState } from "react";
import "./App.css";
import TradingViewWidget from "react-tradingview-widget";

function App() {
  const [dataC, setDataC] = useState("GOOGL"); // Default symbol

  useEffect(() => {
    const queryParameters = new URLSearchParams(window.location.search);
    const stk = queryParameters.get("stk");
    console.log("11111111 stk", stk);
    setDataC(stk);
  }, []);

  const customChartData = [
    {
      close: 87.65,
      high: 87.65,
      low: 87.55,
      open: 87.55,
      time: 30,
      timestamp: 1673254800000,
      value: 1752,
    },
    {
      close: 87.55,
      high: 87.55,
      low: 87.55,
      open: 87.55,
      time: 31,
      timestamp: 1673254860000,
      value: 853,
    },
    {
      close: 87.71,
      high: 87.73,
      low: 87.71,
      open: 87.71,
      time: 35,
      timestamp: 1673255100000,
      value: 1272,
    },
    {
      close: 87.61,
      high: 87.71,
      low: 87.61,
      open: 87.71,
      time: 36,
      timestamp: 1673255160000,
      value: 876,
    },
    {
      close: 87.59,
      high: 87.59,
      low: 87.59,
      open: 87.59,
      time: 38,
      timestamp: 1673255280000,
      value: 175,
    },
    {
      close: 87.63,
      high: 87.63,
      low: 87.63,
      open: 87.63,
      time: 46,
      timestamp: 1673255760000,
      value: 1005,
    },
    {
      close: 87.77,
      high: 87.77,
      low: 87.75,
      open: 87.75,
      time: 50,
      timestamp: 1673256000000,
      value: 443,
    },
    {
      close: 87.77,
      high: 87.77,
      low: 87.77,
      open: 87.77,
      time: 56,
      timestamp: 1673256360000,
      value: 156,
    },
    {
      close: 87.83,
      high: 87.83,
      low: 87.83,
      open: 87.83,
      time: 5,
      timestamp: 1673256900000,
      value: 259,
    },
    {
      close: 87.83,
      high: 87.83,
      low: 87.83,
      open: 87.83,
      time: 6,
      timestamp: 1673256960000,
      value: 481,
    },
    {
      close: 87.8,
      high: 87.8,
      low: 87.8,
      open: 87.8,
      time: 8,
      timestamp: 1673257080000,
      value: 108,
    },
    {
      close: 87.8,
      high: 87.8,
      low: 87.8,
      open: 87.8,
      time: 9,
      timestamp: 1673257140000,
      value: 117,
    },
    {
      close: 87.8,
      high: 87.8,
      low: 87.8,
      open: 87.8,
      time: 13,
      timestamp: 1673257380000,
      value: 185,
    },
    {
      close: 87.84,
      high: 87.84,
      low: 87.84,
      open: 87.84,
      time: 15,
      timestamp: 1673257500000,
      value: 538,
    },
    {
      close: 87.81,
      high: 87.81,
      low: 87.81,
      open: 87.81,
      time: 30,
      timestamp: 1673258400000,
      value: 237,
    },
    {
      close: 87.75,
      high: 87.75,
      low: 87.75,
      open: 87.75,
      time: 31,
      timestamp: 1673258460000,
      value: 384,
    },
    {
      close: 87.74,
      high: 87.74,
      low: 87.74,
      open: 87.74,
      time: 32,
      timestamp: 1673258520000,
      value: 311,
    },
    {
      close: 87.72,
      high: 87.72,
      low: 87.72,
      open: 87.72,
      time: 36,
      timestamp: 1673258760000,
      value: 354,
    },
    {
      close: 87.71,
      high: 87.71,
      low: 87.71,
      open: 87.71,
      time: 37,
      timestamp: 1673258820000,
      value: 852,
    },
    {
      close: 87.71,
      high: 87.71,
      low: 87.71,
      open: 87.71,
      time: 38,
      timestamp: 1673258880000,
      value: 258,
    },
    {
      close: 87.7,
      high: 87.7,
      low: 87.7,
      open: 87.7,
      time: 43,
      timestamp: 1673259180000,
      value: 277,
    },
    {
      close: 87.62,
      high: 87.62,
      low: 87.62,
      open: 87.62,
      time: 9,
      timestamp: 1673260740000,
      value: 224,
    },
    {
      close: 87.56,
      high: 87.56,
      low: 87.56,
      open: 87.56,
      time: 21,
      timestamp: 1673261460000,
      value: 800,
    },
    {
      close: 87.64,
      high: 87.64,
      low: 87.62,
      open: 87.62,
      time: 24,
      timestamp: 1673261640000,
      value: 475,
    },
    {
      close: 87.65,
      high: 87.65,
      low: 87.65,
      open: 87.65,
      time: 26,
      timestamp: 1673261760000,
      value: 1003,
    },
    {
      close: 87.65,
      high: 87.65,
      low: 87.65,
      open: 87.65,
      time: 27,
      timestamp: 1673261820000,
      value: 310,
    },
    {
      close: 87.61,
      high: 87.61,
      low: 87.61,
      open: 87.61,
      time: 30,
      timestamp: 1673262000000,
      value: 536,
    },
    {
      close: 87.65,
      high: 87.65,
      low: 87.65,
      open: 87.65,
      time: 38,
      timestamp: 1673262480000,
      value: 158,
    },
    {
      close: 87.6,
      high: 87.6,
      low: 87.6,
      open: 87.6,
      time: 40,
      timestamp: 1673262600000,
      value: 448,
    },
    {
      close: 87.54,
      high: 87.58,
      low: 87.54,
      open: 87.58,
      time: 42,
      timestamp: 1673262720000,
      value: 1219,
    },
    {
      close: 87.68,
      high: 87.68,
      low: 87.63,
      open: 87.63,
      time: 44,
      timestamp: 1673262840000,
      value: 696,
    },
    {
      close: 87.65,
      high: 87.65,
      low: 87.65,
      open: 87.65,
      time: 45,
      timestamp: 1673262900000,
      value: 220,
    },
    {
      close: 87.57,
      high: 87.65,
      low: 87.56,
      open: 87.65,
      time: 49,
      timestamp: 1673263140000,
      value: 2072,
    },
    {
      close: 87.51,
      high: 87.61,
      low: 87.5,
      open: 87.61,
      time: 50,
      timestamp: 1673263200000,
      value: 3320,
    },
    {
      close: 87.49,
      high: 87.49,
      low: 87.49,
      open: 87.49,
      time: 51,
      timestamp: 1673263260000,
      value: 948,
    },
    {
      close: 87.46,
      high: 87.46,
      low: 87.46,
      open: 87.46,
      time: 52,
      timestamp: 1673263320000,
      value: 273,
    },
    {
      close: 87.49,
      high: 87.49,
      low: 87.49,
      open: 87.49,
      time: 53,
      timestamp: 1673263380000,
      value: 297,
    },
    {
      close: 87.51,
      high: 87.51,
      low: 87.51,
      open: 87.51,
      time: 59,
      timestamp: 1673263740000,
      value: 360,
    },
    {
      close: 87.54,
      high: 87.54,
      low: 87.54,
      open: 87.54,
      time: 4,
      timestamp: 1673264040000,
      value: 223,
    },
    {
      close: 87.6,
      high: 87.6,
      low: 87.6,
      open: 87.6,
      time: 8,
      timestamp: 1673264280000,
      value: 892,
    },
    {
      close: 87.53,
      high: 87.53,
      low: 87.53,
      open: 87.53,
      time: 11,
      timestamp: 1673264460000,
      value: 238,
    },
    {
      close: 87.51,
      high: 87.52,
      low: 87.51,
      open: 87.52,
      time: 13,
      timestamp: 1673264580000,
      value: 722,
    },
    {
      close: 87.59,
      high: 87.59,
      low: 87.59,
      open: 87.59,
      time: 22,
      timestamp: 1673265120000,
      value: 622,
    },
    {
      close: 87.53,
      high: 87.57,
      low: 87.53,
      open: 87.57,
      time: 26,
      timestamp: 1673265360000,
      value: 887,
    },
    {
      close: 87.51,
      high: 87.52,
      low: 87.51,
      open: 87.52,
      time: 27,
      timestamp: 1673265420000,
      value: 1133,
    },
    {
      close: 87.59,
      high: 87.59,
      low: 87.59,
      open: 87.59,
      time: 34,
      timestamp: 1673265840000,
      value: 464,
    },
    {
      close: 87.7,
      high: 87.7,
      low: 87.68,
      open: 87.68,
      time: 37,
      timestamp: 1673266020000,
      value: 1025,
    },
    {
      close: 87.65,
      high: 87.65,
      low: 87.65,
      open: 87.65,
      time: 39,
      timestamp: 1673266140000,
      value: 639,
    },
    {
      close: 87.66,
      high: 87.66,
      low: 87.66,
      open: 87.66,
      time: 41,
      timestamp: 1673266260000,
      value: 577,
    },
    {
      close: 87.69,
      high: 87.69,
      low: 87.65,
      open: 87.65,
      time: 43,
      timestamp: 1673266380000,
      value: 2707,
    },
    {
      close: 87.69,
      high: 87.69,
      low: 87.69,
      open: 87.69,
      time: 44,
      timestamp: 1673266440000,
      value: 504,
    },
    {
      close: 87.68,
      high: 87.68,
      low: 87.68,
      open: 87.68,
      time: 51,
      timestamp: 1673266860000,
      value: 416,
    },
    {
      close: 87.67,
      high: 87.67,
      low: 87.67,
      open: 87.67,
      time: 53,
      timestamp: 1673266980000,
      value: 522,
    },
    {
      close: 87.64,
      high: 87.64,
      low: 87.64,
      open: 87.64,
      time: 54,
      timestamp: 1673267040000,
      value: 447,
    },
    {
      close: 87.73,
      high: 87.73,
      low: 87.67,
      open: 87.67,
      time: 55,
      timestamp: 1673267100000,
      value: 3999,
    },
    {
      close: 87.74,
      high: 87.74,
      low: 87.74,
      open: 87.74,
      time: 56,
      timestamp: 1673267160000,
      value: 532,
    },
    {
      close: 87.74,
      high: 87.74,
      low: 87.74,
      open: 87.74,
      time: 2,
      timestamp: 1673267520000,
      value: 297,
    },
    {
      close: 87.74,
      high: 87.74,
      low: 87.74,
      open: 87.74,
      time: 3,
      timestamp: 1673267580000,
      value: 1286,
    },
    {
      close: 87.92,
      high: 88,
      low: 87.84,
      open: 87.84,
      time: 5,
      timestamp: 1673267700000,
      value: 6681,
    },
    {
      close: 87.9,
      high: 87.9,
      low: 87.9,
      open: 87.9,
      time: 8,
      timestamp: 1673267880000,
      value: 486,
    },
    {
      close: 87.91,
      high: 87.91,
      low: 87.91,
      open: 87.91,
      time: 9,
      timestamp: 1673267940000,
      value: 489,
    },
    {
      close: 87.88,
      high: 87.88,
      low: 87.88,
      open: 87.88,
      time: 12,
      timestamp: 1673268120000,
      value: 416,
    },
    {
      close: 87.9,
      high: 87.9,
      low: 87.9,
      open: 87.9,
      time: 18,
      timestamp: 1673268480000,
      value: 2145,
    },
    {
      close: 87.9,
      high: 87.9,
      low: 87.9,
      open: 87.9,
      time: 25,
      timestamp: 1673268900000,
      value: 408,
    },
    {
      close: 87.97,
      high: 87.97,
      low: 87.95,
      open: 87.95,
      time: 29,
      timestamp: 1673269140000,
      value: 4020,
    },
    {
      close: 87.94,
      high: 87.95,
      low: 87.5,
      open: 87.51,
      time: 30,
      timestamp: 1673269200000,
      value: 17697,
    },
    {
      close: 87.9,
      high: 88.02,
      low: 87.44,
      open: 87.48,
      time: 31,
      timestamp: 1673269260000,
      value: 4980,
    },
    {
      close: 87.9,
      high: 87.9,
      low: 87.87,
      open: 87.9,
      time: 33,
      timestamp: 1673269380000,
      value: 6375,
    },
    {
      close: 87.81,
      high: 87.81,
      low: 87.81,
      open: 87.81,
      time: 34,
      timestamp: 1673269440000,
      value: 1835,
    },
    {
      close: 87.72,
      high: 87.79,
      low: 87.72,
      open: 87.79,
      time: 35,
      timestamp: 1673269500000,
      value: 2265,
    },
    {
      close: 87.72,
      high: 87.72,
      low: 87.72,
      open: 87.72,
      time: 36,
      timestamp: 1673269560000,
      value: 851,
    },
    {
      close: 87.63,
      high: 87.73,
      low: 87.63,
      open: 87.73,
      time: 37,
      timestamp: 1673269620000,
      value: 1968,
    },
    {
      close: 87.67,
      high: 87.67,
      low: 87.67,
      open: 87.67,
      time: 38,
      timestamp: 1673269680000,
      value: 710,
    },
    {
      close: 87.65,
      high: 87.69,
      low: 87.65,
      open: 87.6501,
      time: 39,
      timestamp: 1673269740000,
      value: 814,
    },
    {
      close: 87.7,
      high: 87.7,
      low: 87.7,
      open: 87.7,
      time: 40,
      timestamp: 1673269800000,
      value: 821,
    },
    {
      close: 87.75,
      high: 87.75,
      low: 87.75,
      open: 87.75,
      time: 43,
      timestamp: 1673269980000,
      value: 382,
    },
    {
      close: 87.7485,
      high: 87.7485,
      low: 87.7485,
      open: 87.7485,
      time: 44,
      timestamp: 1673270040000,
      value: 300,
    },
    {
      close: 87.75,
      high: 87.75,
      low: 87.75,
      open: 87.75,
      time: 46,
      timestamp: 1673270160000,
      value: 857,
    },
    {
      close: 87.76,
      high: 87.76,
      low: 87.76,
      open: 87.76,
      time: 49,
      timestamp: 1673270340000,
      value: 742,
    },
    {
      close: 87.76,
      high: 87.76,
      low: 87.76,
      open: 87.76,
      time: 50,
      timestamp: 1673270400000,
      value: 166,
    },
    {
      close: 87.85,
      high: 87.85,
      low: 87.85,
      open: 87.85,
      time: 52,
      timestamp: 1673270520000,
      value: 847,
    },
    {
      close: 87.9,
      high: 87.9,
      low: 87.9,
      open: 87.9,
      time: 56,
      timestamp: 1673270760000,
      value: 529,
    },
    {
      close: 87.87,
      high: 87.87,
      low: 87.87,
      open: 87.87,
      time: 57,
      timestamp: 1673270820000,
      value: 428,
    },
    {
      close: 87.8235,
      high: 87.87,
      low: 87.8235,
      open: 87.87,
      time: 58,
      timestamp: 1673270880000,
      value: 770,
    },
    {
      close: 87.92,
      high: 87.92,
      low: 87.92,
      open: 87.92,
      time: 59,
      timestamp: 1673270940000,
      value: 628,
    },
    {
      close: 87.85,
      high: 87.9,
      low: 87.85,
      open: 87.8999,
      time: 0,
      timestamp: 1673271000000,
      value: 862,
    },
    {
      close: 87.95,
      high: 87.95,
      low: 87.9,
      open: 87.9,
      time: 1,
      timestamp: 1673271060000,
      value: 2234,
    },
    {
      close: 87.95,
      high: 87.95,
      low: 87.95,
      open: 87.95,
      time: 2,
      timestamp: 1673271120000,
      value: 2975,
    },
    {
      close: 88,
      high: 88,
      low: 88,
      open: 88,
      time: 3,
      timestamp: 1673271180000,
      value: 1033,
    },
    {
      close: 88.05,
      high: 88.05,
      low: 88.0008,
      open: 88.0008,
      time: 5,
      timestamp: 1673271300000,
      value: 2728,
    },
    {
      close: 87.97,
      high: 87.97,
      low: 87.97,
      open: 87.97,
      time: 6,
      timestamp: 1673271360000,
      value: 1701,
    },
    {
      close: 88,
      high: 88,
      low: 88,
      open: 88,
      time: 8,
      timestamp: 1673271480000,
      value: 1930,
    },
    {
      close: 87.96,
      high: 88,
      low: 87.96,
      open: 88,
      time: 9,
      timestamp: 1673271540000,
      value: 999,
    },
    {
      close: 87.96,
      high: 87.96,
      low: 87.9599,
      open: 87.96,
      time: 10,
      timestamp: 1673271600000,
      value: 2222,
    },
    {
      close: 87.9201,
      high: 87.96,
      low: 87.9201,
      open: 87.96,
      time: 11,
      timestamp: 1673271660000,
      value: 2124,
    },
    {
      close: 87.9208,
      high: 87.9208,
      low: 87.9208,
      open: 87.9208,
      time: 12,
      timestamp: 1673271720000,
      value: 317,
    },
    {
      close: 88,
      high: 88,
      low: 88,
      open: 88,
      time: 13,
      timestamp: 1673271780000,
      value: 322,
    },
    {
      close: 88,
      high: 88,
      low: 88,
      open: 88,
      time: 15,
      timestamp: 1673271900000,
      value: 738,
    },
    {
      close: 88.0796,
      high: 88.0796,
      low: 88.05,
      open: 88.05,
      time: 16,
      timestamp: 1673271960000,
      value: 8668,
    },
    {
      close: 88.1,
      high: 88.1,
      low: 88.06,
      open: 88.08,
      time: 17,
      timestamp: 1673272020000,
      value: 3151,
    },
    {
      close: 88.12,
      high: 88.12,
      low: 88.05,
      open: 88.05,
      time: 18,
      timestamp: 1673272080000,
      value: 896,
    },
    {
      close: 88.0014,
      high: 88.1,
      low: 88.0014,
      open: 88.07,
      time: 19,
      timestamp: 1673272140000,
      value: 2650,
    },
    {
      close: 88.03,
      high: 88.04,
      low: 88.03,
      open: 88.04,
      time: 20,
      timestamp: 1673272200000,
      value: 915,
    },
    {
      close: 88.05,
      high: 88.05,
      low: 88.05,
      open: 88.05,
      time: 23,
      timestamp: 1673272380000,
      value: 819,
    },
    {
      close: 88.17,
      high: 88.17,
      low: 88.0804,
      open: 88.1,
      time: 25,
      timestamp: 1673272500000,
      value: 2599,
    },
    {
      close: 88.03,
      high: 88.101,
      low: 88.02,
      open: 88.1,
      time: 26,
      timestamp: 1673272560000,
      value: 2605,
    },
    {
      close: 88.03,
      high: 88.03,
      low: 87.97,
      open: 88.01,
      time: 27,
      timestamp: 1673272620000,
      value: 1070,
    },
    {
      close: 88,
      high: 88.02,
      low: 88,
      open: 88.02,
      time: 28,
      timestamp: 1673272680000,
      value: 444,
    },
    {
      close: 87.93,
      high: 87.96,
      low: 87.93,
      open: 87.96,
      time: 30,
      timestamp: 1673272800000,
      value: 3040,
    },
    {
      close: 87.896,
      high: 87.896,
      low: 87.82,
      open: 87.88,
      time: 31,
      timestamp: 1673272860000,
      value: 1810,
    },
    {
      close: 87.89,
      high: 87.89,
      low: 87.85,
      open: 87.85,
      time: 32,
      timestamp: 1673272920000,
      value: 1430,
    },
    {
      close: 87.98,
      high: 87.98,
      low: 87.98,
      open: 87.98,
      time: 36,
      timestamp: 1673273160000,
      value: 1527,
    },
    {
      close: 88,
      high: 88.0053,
      low: 87.98,
      open: 87.98,
      time: 37,
      timestamp: 1673273220000,
      value: 11507,
    },
    {
      close: 87.96,
      high: 87.96,
      low: 87.96,
      open: 87.96,
      time: 38,
      timestamp: 1673273280000,
      value: 479,
    },
    {
      close: 88,
      high: 88,
      low: 88,
      open: 88,
      time: 39,
      timestamp: 1673273340000,
      value: 2333,
    },
    {
      close: 87.99,
      high: 88,
      low: 87.99,
      open: 88,
      time: 40,
      timestamp: 1673273400000,
      value: 674,
    },
    {
      close: 87.9,
      high: 87.98,
      low: 87.9,
      open: 87.95,
      time: 42,
      timestamp: 1673273520000,
      value: 2496,
    },
    {
      close: 87.92,
      high: 87.92,
      low: 87.85,
      open: 87.9,
      time: 44,
      timestamp: 1673273640000,
      value: 2097,
    },
    {
      close: 87.9449,
      high: 87.9449,
      low: 87.92,
      open: 87.92,
      time: 46,
      timestamp: 1673273760000,
      value: 1340,
    },
    {
      close: 87.96,
      high: 87.96,
      low: 87.96,
      open: 87.96,
      time: 48,
      timestamp: 1673273880000,
      value: 514,
    },
  ];

  // const fetchFinancialData = async (symbol) => {
  //   try {
  //     const response = await fetch(
  //       `https://api.example.com/financial-data?symbol=${symbol}&apiKey=${apiKey}&apiSecret=${apiSecret}`
  //     );
  //     const data = await response.json();
  //     setFinancialData(data); // Update state with fetched data
  //   } catch (error) {
  //     console.error("Error fetching financial data:", error);
  //   }
  // };
  return (
    <div className="App">
      <div className="block-chart">
        {/* <TradingViewWidget
          symbol={dataC}
          locale="en"
          popup_heigth="100"
          popup_width="100"
          range="1m"
        /> */}
        <TradingViewWidget
          symbol={dataC} // Set the symbol as needed
          interval="D" // Set the interval as needed (D for daily, etc.)
          range="1m" // Set the desired range (1d, 1w, 1m, 3m, 6m, 1y, all)
          datafeed={customChartData} // Pass the custom data here
          locale="en"
          popup_height="100"
          popup_width="100"
          timezone="kolkata"
        />
      </div>
    </div>
  );
}

export default App;
